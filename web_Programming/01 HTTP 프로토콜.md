# 웹의 동작(HTTP 프로토콜 이해)

> 웹 브라우저와 웹 서버 간에는 서로 통신하기 위한 규약이 있는데 그 규약을 HTTP 라고 한다.



+ 물리적인 하나의 컴퓨터에는 여러 개의 서버가 동작할 수 있다.
+ 각각의 서버들은 포트라는 값으로 구분돼서 동작한다.
  + 하나의 ip주소에 여러개의 포트번호들(포트번호들이 소프트웨어 서버를 구분 지어줌)
+ 인터넷은 네트워크들의 네트워크라고 말할 수 있다.(수많은 네트워크들의 결합체인 것이다.)
  + 인터넷이 World Wide Web은 아니다.

+ 인터넷은 보통 TCP/IP라는 약속으로 연결되어 잇다.



## HTTP(Hypertext Transfer Protocol) 란?

+ HTTP는 서버와 클라이언트가 인터넷상에서 데이터를 주고 받기 위한 프로토콜이다.
+ http는 어떤 종류의 데이터도 전송할 수 있도록 설계가 되어 있다.



### HTTP 작동 방식

+ HTTP는 서버/클라이언트 모델을 따른다.
  + 클라이언트가 먼저 서버에게 요청을 보냄
  + 서버는 요청을 받아서 클라이언트에게 응답을 보내게 됨
+ HTTP는 무상태(Stateless) 프로토콜이라고도 이야기한다.
  + 서버가 클라이언트의 요청을 받아 응답을하고 난후 바로 클라이언트와 연결을 끊음
  + 때문에 클라이언트가 바로 다음 요청을 보내도 서버는 이 클라이언트가 방금전 요청을 보냈던 클라이언트인지 알 수 없음
+ HTTP(또는 무상태 프로토콜)의 장단점
  + 장점
    + 불특정 다수를 대상으로 하는 서비스에 적합하다.
    + 클라이언트와 서버가 계속 연결된 형태가 아니기 때문에 클라이언트와 서버간의 최대 연결수보다 훨씬 많은 요청과 응답을 처리할 수 있다.
  + 단점
    + 연결을 끊어버리기 때문에, 클라이언트의 이전상황을 알 수가 없다.
    + 이러한 특징을 무상태(Stateless)라고 한다.
    + 이러한 특징 때문에 정보를 유지하기 위해 Cookie와 같은 기술이 등장



### URL (Uniform Resource Locator)

+ 인터넷 상의 자원(웹상에서 문서와 이미자 동영상등)의 위치

+ 특정 웹 서버의 특정파일에 접근하기 위한 경로 혹은 주소

  ~~~
  접근 프로토콜 :// IP주소 또는 도메인 이름,포트번호 / 문서의 경로 / 문서의 이름
  
  http://www.sunnyvale.co.kr/docs/index.html 
  ~~~

  

### 웹의 동작

<img width="1195" alt="스크린샷 2022-02-19 11 38 11" src="https://user-images.githubusercontent.com/88477839/154782958-4f3159a0-5f84-4090-820c-93afd6cb19d1.png">

위 그림에서 요청 데이터 포맷을 확인할 수 있다.

+ #### 요청 메시지 - 3부분으로 나뉨

  + 헤더 부분
    + 요청 메서드 / 요청 URI(요청하는 자원위 위치를 명시) / 요청 프로토콜
  + 빈 줄 부분
  + 요청 바디부분
    + 바디 요소는 요청 메서드가 POST나 PUT을 사용하게 됐을 때 들어오게 된다.
    + 위 사진에서 요청바디에 아무것도 없는데 이는 GET방식때문에 그렇다.
    + GET방식은 요청할 때 가지고 가야 되는 자원등을 URI에 붙여서 갖고 가기 때문에 요청바디에 아무것도 없다.

+ #### 응답 데이터 포맷 (응답 메시지) - 3부분으로 나뉨

  + 응답 헤더 부분
    + 첫줄에는 응답 HTTP프로토콜의 버전, 응답 코드, 응답 메시지 등
  + 빈줄 부분
  + 응답 바디 부분
    + 실제 응답 리소스 데이터가 나오는 부분

+ #### 요청 메서드의 종류

  최초의 웹 서버는 GET방식만 지원해줬다.

  + GET : 정보를 요청하기 위해서 사용한다. (SELECT)
  + POST : 정보를 밀어넣기 위해서 사용한다. (INSERT)
  + PUT : 정보를 업데이트하기 위해서 사용한다. (UPDATE)
  + DELETE : 정보를 삭제하기 위해서 사용한다. (DELETE)
  + HEAD : (HTTP)헤더 정보만 요청한다. 해당 자원이 존재하는지 혹은 서버에 문제가 없는지를 확인하기 위해서 사용한다.
  + OPTIONS : 웹서버가 지원하는 메서드의 종류를 요청한다.
  + TRACE : 클라이언트의 요청을 그대로 반환한다. 예컨데 echo 서비스로 서버 상태를 확인하기 위한 목적으로 주로 사용한다.

  



