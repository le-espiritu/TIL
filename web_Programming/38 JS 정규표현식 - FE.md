# JavaScript Regular expression

> 회원가입을 할 때 이메일이나 전화번호 등을 입력하는 경우가 있습니다.
>
> 이때 입력한 값이 올바르지 않으면 에러 메시지가 나오는 경험을 했을 겁니다.
>
> 입력값이 올바른지 자바스크립트로 간단히 체크할 수 있는 방법이 있습니다.





## 정규표현식이란? 1



+ 정규표현식 참고 자료 - https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/RegExp

  



### 정규표현식(regular expression)

+ 문자열의 특정 패턴을 찾을 수 있는 문법
+ 패턴을 찾아서 추출, 삭제, 치환등의 문자열 조작을 할 수 있음



### 실무에서의 사용

+ 이메일, 주소, 전화번호 규칙 검증
+ textarea에 입력된 것 중 불필요한 입력값 추출
+ 트랜스파일링
+ 개발도구에서의 문자열 치환



### 예제

<img width="1273" alt="스크린샷 2022-04-15 12 14 51" src="https://user-images.githubusercontent.com/88477839/163512640-faca414c-e663-451a-a556-a13632baaac4.png">

+ ~~~javascript
  "1".match(/1/);
  
  // => ["1", index:0, input:"1"] => 배열반환
  
  "1".match(/1/)[0];
  //=> "1".match(/1/) 의 0번째 인덱스
  ~~~

+ ~~~javascript
  "1".match(/2/);
  //=> null
  ~~~

+ / / 는 정규표현식을 뜻함



+ **문자열안에 있는 숫자를 하나 찾고자 할때**

  ~~~javascript
  var result = "abc3zzz".match(/\d/)[0];
  
  console.log(result);
  ~~~

+ **문자열안에 있는 모든 두자리 숫자를 찾고자 할때**

  ~~~javascript
  "a99b".match(/\d\d/);
  
  // ["99", index:1, input: "a99b"]
  ~~~

  ~~~javascript
  var target = "abc32zzz";
  var r = /\d\d/;
  var result = target.match(r);
  result;
  
  //["32", index: 3, input: "abc32zzz"]
  ~~~



## 정규표현식이란?2



### **공부 방법**

다양한 cheat sheet를 참고해서 정규표현식을 구현하는 것이 좋습니다.

- 구글에 javascript regex cheat sheet를 검색해본다.
- 패턴들을 테스트해보면서 구현해보기



### 예제

+  **우편번호**

  ~~~javascript
  "123-123".match(/\d\d\d-\d\d\d/)[0];
  // => "123-123"
  
  "123-123".match(/\d{3}-\d{3}/)[0];
  // => "123-123"
  
  "19323".match(/\d{5}/)[0];
  // => "19323"
  ~~~

  + Or 연산자 이용해야할 경우에 () 활용 - 하위표현식 (sub expression)

    ~~~javascript
    "a".match(/(a|b)/)[0];
    //"a"
    
    "b".match(/(a|b)/)[0];
    //"b"
    ~~~

  ~~~javascript
  "123-405".match(/(\d{3}-\d{3}|\d{5})/)[0];
  // => "123-405"
  
  "12345".match(/(\d{3}-\d{3}|\d{5})/)[0];
  // => "12345"
  ~~~

  + 주어진 숫자에서만 하나 매치되게 하기

    ~~~javascript
    "92405".match(/(\d{3}-\d{3}|[012345678]\d{4})/)[0];
    
    //=> 에러
    // []안에 9는 주어져있지 않기 때문에
    
    "82405".match(/(\d{3}-\d{3}|[0-8]\d{4})/)[0];
    // => "82405"
    
    "52405".match(/(\d{3}-\d{3}|[0-46-8]\d{4})/)[0];
    // => 에러
    ~~~



+ **휴대폰 전화번호**

  ~~~javascript
  "010-9021-0011".match(/\d{3}-\d{4}-\d{4}/)[0];
  // => "010-9021-0011"
  
  "010-9021-0011".match(/01[01789]-\d{4}-\d{4}/)[0];
  // => "010-9021-0011"
  
  "011-021-0011".match(/01[01789]-\d{3,4}-\d{4}/)[0];
  // => "011-021-0011"
  // \d{3,4} => 수량자. 3개에서~ 4개
  ~~~



+ **개발도구에서의 함수 선택**

  ~~~javascript
  \(?function\s+[a-zA-Z_$]+
  ~~~

  + \\(? : 괄호가 하나 있거나 없거나 
  + \\s : 공백
  + \\s+ : 공백이 하나 이상 올 수 있다.
  + [a-zA-Z_$] : a부터 z까지 A부터 Z까지 _와$가 올 수 있다.

### 치환

+ replace Method

  ~~~javascript
  "011-021-0011".replace(/(\d{2})\d/,"$10");
  //=>"010-021-0011"
  
  "091-021-0011".replace(/(\d{2})\d/,"$10");
  //=>"090-021-0011"
  ~~~

  + $1은 첫번째 괄호(위에서는 (\d{2}) )를 의미함 - 괄호는 그대로 유지됨을 뜻함

  ~~~javascript
  "$$$iloveyou###".replace(/.*([a-zA-Z]{8}).*/, "$1");
  //=>"iloveyou"
  ~~~

  

### **탐욕적(greedy), 게으른(lazy) 수량자**

뒤에서부터 찾거나, 앞에서부터 찾거나 (lazy를 써서 앞에서부터 찾도록 합니다.)

- greedy : *, +, {n,}
- lazy : *?, +?, {n,}?

~~~javascript
"011-021-0011-12312-123".match(/\d.*/);
// =>["011-021-0011-12312-123", index:0, input: "011-021-0011-12312-123"]

"011-021-0011-12312-123".match(/\d.*-/)[0];
// => "011-021-0011-12312-" => 탐욕스럽게 마지막 - 까지 찾아온다.
//위와 같은 현상을 방지하기위해 *다음에 ?를 붙여줄 수 있다.

"011-021-0011-12312-123".match(/\d.*?-/)[0];
// => "011-"
~~~

